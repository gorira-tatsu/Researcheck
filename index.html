<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <!-- ofline mode <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="styles.css">
    <script>
        const word = {
            "メリット":"デメリット",
            "デメリット":"メリット"
        }

        function getSearchbox() {
          return document.getElementById("q")
        }

        function plus(str) {
            target = getSearchbox()
            target.value = target.value + str;
            return false;
        }

        function return_opposite(target_array) {
            for (x in word) {
                target_found = target_array.indexOf(x)
                if (target_found !== -1) {
                    return word[x];
                }
                else {
                    return '';
                }
            }
        }

        function return_split(target) {
            return target.split(/[\s\u3000]+/)
        }

        function Search(target_found) {
            document.getElementsByClassName('gsc-input')[2].value = getSearchbox().value + target_found;
            document.querySelector('#___gcse_0 > div > div > form > table > tbody > tr > td.gsc-search-button > button').click();
        }

        function pushSearch() {
            Search(return_opposite(return_split(getSearchbox().value)))
        }

    </script>
    <title>Search</title>
</head>

<body>
<div class="input-group mb-3">
    <button type="button" class="btn btn-outline-secondary" onclick="pushSearch()">Search</button>
    <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
      <span class="visually-hidden">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="#" onclick="return plus(' -');">-</a></li>
        <li><a class="dropdown-item" href="#" onclick="return plus(' or ')">or</a></li>
        <li><a class="dropdown-item" href="#" onclick="return plus('site: ')">site:</a></li>
    </ul>
    <input id=q type="text" class="form-control" aria-label="Text input with segmented dropdown button">
</div>
<script async src="https://cse.google.com/cse.js?cx=b0d592601bb85c52c"></script>
<div class="gcse-search"></div>

<p>参考: <a href="https://support.google.com/websearch/answer/2466433?hl=ja">ウェブ検索の精度を高める</a></p>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
</body>
</html>
